**Transactional Outbox** — это [[{TODO} Архитектурные Паттерны (Architectural Patterns)||архитектурный паттерн]], который помогает обеспечить надёжную доставку сообщений между [[Микросервис (Microservice)||микросервисами]] или системами, гарантируя, что сообщения, связанные с [[Транзакция (Transaction)||транзакцией]], не будут потеряны, даже если произойдёт сбой в процессе отправки. Решает проблему [[Атомарность (Atomacy)||атомарности]] и согласованности при отправке сообщений в распределённые системы, гарантируя, что сообщение будет доставлено только в случае успешного завершения транзакции.


### Как это работает?

- Вместо отправки сообщений напрямую в [[{TODO} Брокер Сообщений (Message Broker)||очередь]] (например, через [[{TODO} Kafka||Kafka]], [[{TODO} RabbitMQ||RabbitMQ]]), вы сохраняете их в отдельной [[Таблица БД (Database Table, DB Table)||таблице базы данных]] — `Outbox`.
- В одной [[Транзакция (Transaction)||транзакции]] с бизнес-логикой сохраняете состояние и сообщения в `Outbox`.
- Специальный процесс или сервис-демон периодически проверяет [[Таблица БД (Database Table, DB Table)||таблицу]] `Outbox` и отправляет сообщения в [[{TODO} Брокер Сообщений (Message Broker)||очередь]].
- Это гарантирует, что сообщения отправляются только после успешной [[Транзакция (Transaction)||транзакции]], минимизируя риск потери сообщений.


### Пример:

- Заказ был успешно размещён и сохранён в [[База данных (БД, Database, DB)||базе данных]].
- Вместо немедленной отправки уведомления, информация об этом заказе записывается в [[Таблица БД (Database Table, DB Table)||таблицу]] `Outbox`.
- Отдельный сервис читает [[Таблица БД (Database Table, DB Table)||таблицу]] и отправляет уведомление клиенту.

  