**Красно-чёрное дерево** (Red-Black Tree) — это [[Сбалансированное Дерево (Balanced Tree)||Сбалансированное]] [[Двоичное Дерево Поиска (Binary Search Tree)||Бинарное Дерево Поиска]], где каждый узел имеет цвет (красный или чёрный). Сбалансированность поддерживается за счёт ограничений, накладываемых на структуру дерева, что позволяет обеспечивать гарантированное время выполнения операций $O(\log n)$.

![[Красно-чёрное дерево.png]]

1. Каждый узел либо красный, либо чёрный.
2. Корень дерева всегда чёрный.
3. Все листья ([[NIL-узлы]]) чёрные.
4. Если узел красный, то оба его дочерних узла чёрные (то есть, в красно-чёрном дереве не может быть двух подряд идущих красных узлов).
5. Для любого узла все пути от него до листьев содержат одинаковое количество чёрных узлов (чёрная высота).

### Балансировка

1. **Вставка**:
	1. Вставка происходит как в обычном дереве поиска, с добавлением нового узла, окрашенного в красный цвет.
	2. После вставки может понадобиться выполнение **перекрашивания** или **поворотов** для соблюдения свойств дерева.
	3. **Перекрашивание**: если родительский узел и дядя узла красные, происходит перекрашивание родителя и дяди в черный и перекрашивание дедушки в красный.
	4. **Повороты**: если нарушены свойства дерева (например, два красных узла подряд), выполняются повороты для восстановления баланса.
2. **Удаление**:
	1. После удаления узла необходимо выполнить корректировку дерева с использованием перекрашивания и поворотов, чтобы соблюсти свойства дерева.
3. **Повороты:**
	2. **Левый поворот (Single Rotation)**: Выполняется, когда правое поддерево имеет большую высоту. Применяется к нарушенному узлу, где правый ребенок становится новым корнем поддерева.
	3. **Правый поворот (Single Rotation)**: Выполняется, когда левое поддерево имеет большую высоту. Применяется к нарушенному узлу, где левый ребенок становится новым корнем поддерева.
	4. **Двойной поворот (Double Rotation)**: Комбинированный поворот, когда необходимо выполнить сначала левый поворот, а потом правый (или наоборот).