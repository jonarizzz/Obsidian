Дерево отрезков устроено так, что массив представляется как [[Дерево (Tree)||дерево]], где:

- **Каждый узел дерева отвечает за отрезок массива.** 
	- Например, если у нас есть массив $[a, b, c, d]$, то:
		- Корень дерева может хранить сумму всего массива $(a + b + c + d)$.
		- Левые и правые дочерние узлы делят массив на две части: $[a, b]$ и $[c, d]$.
		- Дочерние узлы этих узлов отвечают за ещё меньшие части: $[a], [b], [c], [d]$.
- **Листовые узлы — это элементы массива.**
	- Например, $[a], [b], [c], [d]$ — это листья дерева.
- **Внутренние узлы объединяют информацию из дочерних узлов.**
	- Если узел отвечает за отрезок $[L, R]$, то его значение вычисляется как результат операции над значениями его “детей” (например, сумма, минимум или максимум).
- **Хранение в виде массива:**
	- Обычно дерево отрезков реализуют не как реальные узлы (как в обычном бинарном дереве), а в виде массива. Например, если исходный массив длиной $n$, то дерево отрезков хранится в массиве размером примерно $4n$.

### Простой пример

```
        [1+2+3+4=10]
	   /            \
  [1+2=3]         [3+4=7]
 /     \          /     \
[1]     [2]      [3]     [4]
```