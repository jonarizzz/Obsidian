**Kafka Transaction** — это механизм, обеспечивающий [[Атомарность (Atomacy)||атомарность]] операций при отправке и обработке [[Сообщение Кафка (Kafka Message)||сообщений]], позволяя достичь [[Типы доставки в Кафка (Kafka Delivery Types)||exactly-once]] семантики.


### Основные возможности

- **[[Атомарность (Atomacy)||Атомарность]]** — все [[Сообщение Кафка (Kafka Message)||сообщения]] внутри [[Транзакция Кафка (Kafka Transaction)||транзакции]] либо фиксируются (`commit`), либо откатываются (`abort`).
- **[[Типы доставки в Кафка (Kafka Delivery Types)||Exactly-once]]** — предотвращает дублирование сообщений при сбоях [[Производитель Кафка (Kafka Producer)||продюсера]].
- **Объединение операций** — позволяет отправлять [[Сообщение Кафка (Kafka Message)||сообщения]] в несколько [[Топик Кафка (Kafka Topic)||топиков]] как единое целое.


### Как работает

- [[Производитель Кафка (Kafka Producer)||Продюсер]] использует `initTransactions()`, `beginTransaction()`, `commitTransaction()` и `abortTransaction()`.
- [[Потребитель Кафка (Kafka Consumer)||Потребитель]] использует читаемые [[Транзакция (Transaction)||транзакции]] (`isolation.level=read_committed`), чтобы получать только подтверждённые [[Сообщение Кафка (Kafka Message)||сообщения]].


### Где применяют

- Финансы (переводы, биллинг).
- Логистика (учёт заказов).
- Data Pipelines (обновление данных без потерь).