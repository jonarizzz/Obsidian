**Kafka Message Key** — это часть [[Сообщение Кафка (Kafka Message)||Kafka сообщения]], которая используется для определения, в какую [[Раздел Топика Кафка (Kafka Topic Partition)||партицию]] будет отправлено [[Сообщение Кафка (Kafka Message)||сообщение]]. [[Ключ Сообщения Кафка (Kafka Message Key)||Ключ]] играет важную роль в упорядочивании данных и распределении [[Сообщение Кафка (Kafka Message)||сообщений]] между [[Раздел Топика Кафка (Kafka Topic Partition)||партициями]].


### Основные функции и характеристики

- **Определение [[Раздел Топика Кафка (Kafka Topic Partition)||партиции]]**
	- Ключ используется в процессе [[Раздел Топика Кафка (Kafka Topic Partition)||партиционирования]] сообщений. [[Кафка (Apache Kafka)||Kafka]] применяет [[Хэширование (Хэш-функция, Hash Function, Hashing)||хеширование]] [[Ключ Сообщения Кафка (Kafka Message Key)||ключа]] для определения, в какую [[Раздел Топика Кафка (Kafka Topic Partition)||партицию конкретного топика]] будет направлено [[Сообщение Кафка (Kafka Message)||сообщение]].
	- [[Сообщение Кафка (Kafka Message)||Сообщения]] с одинаковым [[Ключ Сообщения Кафка (Kafka Message Key)||ключом]] всегда попадают в одну и ту же [[Раздел Топика Кафка (Kafka Topic Partition)||партицию]], что важно для гарантии порядка [[Сообщение Кафка (Kafka Message)||сообщений]].
- **Обеспечение порядка [[Сообщение Кафка (Kafka Message)||сообщений]]**
	- Если важен порядок обработки [[Сообщение Кафка (Kafka Message)||сообщений]] для конкретного объекта, то можно использовать уникальный идентификатор этого объекта в качестве [[Ключ Сообщения Кафка (Kafka Message Key)||ключа]]. Таким образом, все [[Сообщение Кафка (Kafka Message)||сообщения]] для одного объекта попадут в одну [[Раздел Топика Кафка (Kafka Topic Partition)||партицию]] и будут обработаны в правильном порядке.
- **Равномерное распределение нагрузки**
	- Если [[Ключ Сообщения Кафка (Kafka Message Key)||ключ]] используется случайным образом или определён по какому-то алгоритму, то сообщения могут быть равномерно распределены между [[Раздел Топика Кафка (Kafka Topic Partition)||партициями]], улучшая [[Масштабирование (Скейлинг, Scaling)||масштабируемость]] и [[Балансировщик Нагрузки (Load Balancer)||балансировку нагрузки]].
- **Необязательность**
	- [[Ключ Сообщения Кафка (Kafka Message Key)||Ключ сообщения]] — это необязательное поле. Если ключ не задан, то [[Кафка (Apache Kafka)||Kafka]] будет использовать случайное распределение [[Сообщение Кафка (Kafka Message)||сообщений]] по [[Раздел Топика Кафка (Kafka Topic Partition)||партициям]].
- **Типы данных [[Ключ Сообщения Кафка (Kafka Message Key)||ключа]]**
	- [[Ключ Сообщения Кафка (Kafka Message Key)||Ключ]] может быть любым типом данных (строка, целое число, объект и т. д.), но чаще всего это строки или числовые идентификаторы.


### Отличие от Offset:

[[Ключ Сообщения Кафка (Kafka Message Key)||Kafka Message Key]] определяет, в какую [[Раздел Топика Кафка (Kafka Topic Partition)||партицию]] попадёт сообщение, и помогает сохранять порядок [[Сообщение Кафка (Kafka Message)||сообщений]] внутри неё.

[[Смещение Кафка (Kafka Offset)||Kafka Offset]] — это позиция [[Сообщение Кафка (Kafka Message)||сообщения]] в [[Раздел Топика Кафка (Kafka Topic Partition)||партиции]], используемая для отслеживания прочитанных данных [[Потребитель Кафка (Kafka Consumer)||потребителями]].

- [[Ключ Сообщения Кафка (Kafka Message Key)||Key]] → управляет распределением [[Сообщение Кафка (Kafka Message)||сообщений]]
- [[Смещение Кафка (Kafka Offset)||Offset]] → отслеживает позицию [[Сообщение Кафка (Kafka Message)||сообщений]]