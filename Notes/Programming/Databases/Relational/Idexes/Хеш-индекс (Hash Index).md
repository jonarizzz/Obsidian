Индексы в базах данных, основанные на [[Хэш-таблица (Hash Table)||хэш-таблицах]], представляют собой структуру данных, которая используется для быстрого поиска записей. Они работают на основе [[Хэширование (Хэш-функция, Hash Function, Hashing)||хэширования]], что делает их чрезвычайно эффективными для точного поиска по ключу. 

### Принцип работы

- Хэширование:
	- Каждое значение ключа преобразуется в хэш-значение с помощью [[Хэширование (Хэш-функция, Hash Function, Hashing)||хэш-функции]].
	- [[Хэширование (Хэш-функция, Hash Function, Hashing)||Хэш-функция]] создает уникальный идентификатор (хэш-код) для каждого ключа, который используется как адрес записи в [[Хэш-таблица (Hash Table)||хэш-таблице]].
- Хэш-таблица:
	- Хэш-таблица состоит из _бакетов_ (контейнеров), которые хранят данные или указатели на строки таблицы.
	- [[Хэширование (Хэш-функция, Hash Function, Hashing)||Хэш-функция]] сопоставляет значение ключа конкретному бакету.
- Операции:
	- Поиск: По значению ключа вычисляется хэш, а затем выполняется прямой доступ к соответствующему бакету.
	- Вставка/Обновление: Значение ключа [[Хэширование (Хэш-функция, Hash Function, Hashing)||хэшируется]], и данные добавляются в соответствующий бакет.
	- Удаление: Аналогично, значение хэшируется, после чего удаляется соответствующая запись.

### Преимущества

- Высокая скорость точного поиска:
	- Поиск по ключу выполняется за время в среднем случае ([[Поиск по хэш-функции||константное время]]).
	- Это делает хэш-индексы идеальными для операций, где необходимо быстро находить точное соответствие.
- Компактность и эффективность – [[Хэш-таблица (Hash Table)||хэш-таблицы]] хорошо работают с небольшим объемом данных.
- Простота реализации – хэширование относительно просто в сравнении с деревьями (например, [[B-Дерево (B-Tree)||B-деревья]]).

### Ограничения

- **Невозможность поиска по диапазону:**
	- [[Хэширование (Хэш-функция, Hash Function, Hashing)||Хэш-функция]] не сохраняет порядок ключей, поэтому операции вроде `WHERE key BETWEEN 10 AND 20` невозможны.
	- Для таких операций лучше использовать индексы на основе деревьев (например, B-деревья).
- **Проблемы коллизий** – разные ключи могут иметь одинаковые хэш-значения ([[Коллизии при хэшировании (Hash Collision)||коллизии]]). Для разрешения коллизий используются методы вроде цепочек или открытой адресации, что может замедлять операции.
- **Увеличение времени на перестройку** – если объем данных увеличивается, может потребоваться перестроение [[Хэш-таблица (Hash Table)||хэш-таблицы]], что является дорогостоящей операцией.
- **Неэффективность для больших наборов данных** – при большом объеме данных [[Хэш-таблица (Hash Table)||хэш-таблица]] может занимать значительное количество памяти.
- **Поддержка со стороны СУБД** – хэш-индексы поддерживаются не всеми СУБД (например, в PostgreSQL их использование ограничено).

### Когда использовать

- Быстрый точный поиск по уникальным ключам.
- Условие поиска вида `WHERE key = 'значение'.`
- Работа с небольшими объемами данных.

### Поддержка в СУБД

- **PostgreSQL**: Поддерживает хэш-индексы, но они имеют ограниченное использование (часто уступают [[Позиционный индекс (B-дерево)||B-деревьям]]).
- **MySQL**: Для движка InnoDB хэш-индексы реализованы в виде адаптивного хэш-индекса (Adaptive Hash Index), который динамически создается для ускорения поиска.
- [[{TODO} Нереляционные Базы Данных (Non-Relational Databases)||NoSQL]] (например, Redis): Широко используют [[Хэш-таблица (Hash Table)||хэш-таблицы]] как основную структуру данных.

