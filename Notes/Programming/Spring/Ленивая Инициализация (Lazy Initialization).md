Ленивая инициализация (Lazy Initialization) в [[Spring Boot||Spring Boot]] — это механизм, при котором [[Бин (Spring Bean)||бины]] создаются только при первом их обращении, а не при запуске приложения.

  
### Как работает по умолчанию?

Spring по умолчанию использует [[Жадная Инициализация (Eager Initialization)||жадную (eager) инициализацию]], создавая все [[Бин (Spring Bean)||бины]] при старте приложения. Это ускоряет последующую работу, но может замедлить запуск, особенно если в контексте много компонентов.

### Как включить ленивую инициализацию?

#### 1. Глобально

Добавить в `application.properties`:

```properties
spring.main.lazy-initialization=true
```

или в `application.yml`:

```yaml
spring:
  main:
    lazy-initialization: true
```

Это сделает **все** [[Бин (Spring Bean)||бины]] ленивыми.


#### 2. Для конкретного [[Бин (Spring Bean)||бина]]

Использовать аннотацию [[{TODO} Lazy (аннотация)||@Lazy]]:

```java
@Component
@Lazy
public class MyBean {
    public MyBean() {
        System.out.println("MyBean создан");
    }
}
```

Этот [[Бин (Spring Bean)||бин]] будет создан только при первом вызове.

  
#### 3. Ленивая инъекция в конструктор

Если сам [[Бин (Spring Bean)||бин]] создаётся [[Жадная Инициализация (Eager Initialization)||жадно]], но нужно [[Ленивая Инициализация (Lazy Initialization)||лениво]] внедрять зависимость:

```java
@Service
public class MyService {
    private final MyBean myBean;
	
    public MyService(@Lazy MyBean myBean) {
        this.myBean = myBean;
    }
}
```

В этом случае `MyBean` будет создан только когда реально понадобится.

  

### Когда использовать ленивую инициализацию?

- Когда есть много [[Бин (Spring Bean)||бинов]], которые не всегда нужны
- Когда хотите ускорить старт приложения
- Когда тяжёлые [[Бин (Spring Bean)||бины]] создаются редко, например, подключения к [[База данных (БД, Database, DB)||БД]]

  
  
Не стоит использовать, если приложение активно использует большинство [[Бин (Spring Bean)||бинов]] сразу после старта. В таком случае отложенная инициализация может привести к неожиданным задержкам.
