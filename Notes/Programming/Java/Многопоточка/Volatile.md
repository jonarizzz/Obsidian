В Java ключевое слово `volatile` используется для обозначения переменной, которая может быть изменена разными потоками и должна всегда читаться и записываться непосредственно из основной памяти, а не из кэша потока. Это важный инструмент для работы с [[Многопоточка||многопоточностью]], так как он помогает избежать некорректного поведения программы, связанного с [[{TODO} Кэширование в Java||кэшированием]] переменных.

``` java
public class Example {

    private volatile boolean flag = true;

    public void toggleFlag() {
        flag = !flag; // Изменение значения
    }

    public boolean isFlag() {
        return flag; // Чтение значения
    }
}
```


## Особенности

- **Гарантия видимости изменений:**
	- Когда один поток изменяет значение `volatile` переменной, эти изменения сразу становятся видимыми для других потоков.
	- Без `volatile` другой поток может работать с устаревшей версией переменной из своего кэша.
- **Запрет оптимизаций компилятора:**
	- Компилятор и процессор не будут переставлять операции чтения и записи для volatile переменной, что обеспечивает порядок операций.
- **Нет атомарности операций:**
	- volatile гарантирует только видимость (чтение), но не атомарность. Например, операции инкремента (`x++`) или проверки с последующим обновлением (`if (x == 0) x++;`) не являются атомарными, даже если x объявлена как volatile.