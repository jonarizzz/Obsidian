
**Garbage Collector (GC)** — это механизм автоматического управления памятью в Java, который освобождает память, занятую [[Объект (Object)||объектами]], которые больше не используются. Это избавляет программистов от необходимости вручную управлять памятью, как в C или C++.

### Как работает?

Java использует управляемую среду выполнения ([[Виртуальная Машина Java (Java Virtual Machine, JVM)||JVM]]), которая отслеживает [[Объект (Object)||объекты]] в памяти. Когда [[Объект (Object)||объект]] становится недоступным (на него нет [[Ссылочный Тип Данных (Сильная Ссылка, Strong Reference, Link)||ссылок]]), GC может освободить занимаемую им память.

- Создание объектов – все [[Объект (Object)||объекты]] размещаются в [[Heap (Область Памяти)||куче (Heap)]].
- Определение “мусора” – если на [[Object (класс)||объект]] больше нет [[Ссылочный Тип Данных (Сильная Ссылка, Strong Reference, Link)||ссылок]], он считается мусором.
- Очистка памяти – GC удаляет ненужные [[Объект (Object)||объекты]] и, если необходимо, выполняет сжатие памяти (Compaction).


### Память:

**Garbage Collector** работает по [[Heap (Область Памяти)||куче]]. [[Heap (Область Памяти)||Куча]] разбита на поколения (Generational Heap Model), что помогает оптимизировать сборку мусора.

- **Young Generation** (молодое поколение)
	- **Eden Space** – сюда попадают новые объекты.
	- **Survivor Spaces** (S0 и S1) – выжившие после первой сборки мусора объекты перемещаются сюда.
- **Old Generation (Tenured)** (старое поколение): Хранит “долго живущие” объекты, которые пережили несколько циклов GC.
- **Metaspace** (ранее **Permanent Generation**): Содержит метаинформацию о классах, методах и т. д.

### Алгоритмы GC в Java

- [[Serial GC||Serial GC]] (Простой, однопоточный) – используется для небольших приложений.
- [[Parallel GC||Parallel GC]] (Многопоточный, “Throughput GC”) – работает в [[Многопоточное Программирование (Многопоточка, Multithreading)||многопоточном]] режиме, эффективен для серверных приложений.
- [[G1 GC||G1 GC]] (Garbage First) – баланс между низкими задержками и хорошей пропускной способностью.
- [[ZGC||ZGC]] и [[Shenandoah GC||Shenandoah]] – современные низкозадержочные (low-latency) GC для больших нагрузок.


### Сборщик мусора запускается:

- Когда не хватает памяти в [[Heap (Область Памяти)||куче]].
- При достижении определённого порога использования памяти.
- Вызовом `System.gc()`, но это лишь рекомендация, а не гарантия очистки.

### Оптимизация работы GC

- Использование [[Пул Объектов (паттерн)||пулов объектов]] для уменьшения нагрузки на GC.
- Тюнинг [[Виртуальная Машина Java (Java Virtual Machine, JVM)||JVM]] с флагами (`-XX:+UseG1GC`, `-Xms`, `-Xmx`).
- [[Мониторинг (Monitoring)||Мониторинг]] GC с помощью `jstat`, `VisualVM`, `GC logs`.
  

Сборщик мусора в Java упрощает управление памятью, но требует понимания принципов его работы, особенно в высоконагруженных системах. Правильный выбор GC и настройка JVM помогают снизить паузы и увеличить производительность.