**Потокобезопасные коллекции в Java** — это [[Collection (интерфейс)||коллекции]], которые позволяют безопасно использовать их в многопоточной среде. Они предотвращают [[Проблемы многопоточности||проблемы]], возникающие при одновременном доступе к данным несколькими [[Поток (Thread)||потоками]].


## Потокобезопасные коллекции в Java

#### Имутабельные коллекции в Java

| Коллекция          | Тип                        | Описание                                                                  | Пример использования                                |
| ------------------ | -------------------------- | ------------------------------------------------------------------------- | --------------------------------------------------- |
| **Immutable List** | [[List (интерфейс)]]            | Невозможно изменить после создания. Потокобезопасна за счет неизменности. | `List<String> list = List.of("A", "B");`            |
| **Immutable Set**  | [[{TODO} Set (интерфейс)]]             | Невозможно изменить после создания. Потокобезопасна за счет неизменности. | `Set<String> set = Set.of("A", "B");`               |
| **Immutable Map**  | [[{TODO} Map (интерфейс)]] | Невозможно изменить после создания. Потокобезопасна за счет неизменности. | `Map<String, String> map = Map.of("key", "value");` |

#### Синхронизированные коллекции в Java

| Коллекция            | Тип                        | Описание                                         | Пример использования                                                      |
| -------------------- | -------------------------- | ------------------------------------------------ | ------------------------------------------------------------------------- |
| **SynchronizedList** | [[List (интерфейс)]]            | Обертка над `List`, где методы синхронизированы. | `List<String> list = Collections.synchronizedList(new ArrayList<>());`    |
| **SynchronizedSet**  | [[{TODO} Set (интерфейс)]]             | Обертка над `Set`, где методы синхронизированы.  | `Set<String> set = Collections.synchronizedSet(new HashSet<>());`         |
| **SynchronizedMap**  | [[{TODO} Map (интерфейс)]] | Обертка над `Map`, где методы синхронизированы.  | `Map<String, String> map = Collections.synchronizedMap(new HashMap<>());` |

#### Другие потокобезопасные коллекции в Java

| Коллекция                 | Тип                        | Описание                                                                         | Пример использования                             |
| ------------------------- | -------------------------- | -------------------------------------------------------------------------------- | ------------------------------------------------ |
| [[ConcurrentHashMap]]     | [[{TODO} Map (интерфейс)]] | Потокобезопасная альтернатива `HashMap`. Использует сегментацию для оптимизации. | `map.putIfAbsent(key, value);`                   |
| **CopyOnWriteArrayList**  | [[List (интерфейс)]]            | Потокобезопасная альтернатива `ArrayList`. Создает копию списка при модификации. | `list.add("item");`                              |
| **CopyOnWriteArraySet**   | [[{TODO} Set (интерфейс)]]             | Потокобезопасная альтернатива `HashSet`. Основана на `CopyOnWriteArrayList`.     | `set.add("item");`                               |
| **ConcurrentLinkedQueue** | [[Очередь (Queue)]]        | Потокобезопасная очередь FIFO.                                                   | `queue.add("item"); queue.poll();`               |
| **ConcurrentLinkedDeque** | [[{TODO} Deque (интерфейс)]]           | Потокобезопасная двухсторонняя очередь.                                          | `deque.addFirst("item"); deque.addLast("item");` |
| **LinkedBlockingQueue**   | [[{TODO} BlockingQueue]]   | Блокирующая очередь FIFO. Подходит для Producer-Consumer.                        | `queue.put("item"); queue.take();`               |
| **ArrayBlockingQueue**    | [[{TODO} BlockingQueue]]   | Ограниченная блокирующая очередь с фиксированным размером.                       | `queue.put("item"); queue.take();`               |
| **PriorityBlockingQueue** | [[{TODO} BlockingQueue]]   | Потокобезопасная очередь с приоритетами.                                         | `queue.add("item"); queue.poll();`               |
| **DelayQueue**            | [[{TODO} BlockingQueue]]   | Очередь с задержкой, элементы доступны через заданное время.                     | `queue.put(new DelayedTask()); queue.take();`    |
| **ConcurrentSkipListMap** | [[{TODO} SortedMap]]       | Потокобезопасная альтернатива `TreeMap`. Поддерживает порядок ключей.            | `map.put(key, value);`                           |
| **ConcurrentSkipListSet** | [[{TODO} SortedSet]]       | Потокобезопасная альтернатива `TreeSet`. Поддерживает порядок элементов.         | `set.add(item);`                                 |


## Плюсы потокобезопасных коллекций

1. Упрощают работу в многопоточной среде.
2. Предоставляют гибкость выбора в зависимости от требований приложения.
3. Высокая производительность за счет оптимизированной синхронизации.


## Минусы потокобезопасных коллекций

1. Могут быть медленнее, чем небезопасные аналоги, при низкой конкуренции.
2. Не подходят для всех задач — например, когда требуется строгая последовательность операций.