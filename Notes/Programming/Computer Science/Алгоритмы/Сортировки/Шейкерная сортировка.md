Шейкерная сортировка отличается от пузырьковой ([[Пузырьковая сортировка]]) тем, что она двунаправленная: алгоритм перемещается не строго слева направо, а сначала слева направо, затем справа налево.

![[Шейкерная сортировка.gif]]


**Имплементация:**

```
void ShakerSort(vector<int>& values) { 
	if (values.empty()) { 
		return; 
	} 
	int left = 0; 
	int right = values.size() - 1; 
	while (left <= right) { 
		for (int i = right; i > left; --i) { 
			if (values[i - 1] > values[i]) { 
				swap(values[i - 1], values[i]); 
			} 
		} 
		++left; 
		for (int i = left; i < right; ++i) { 
			if (values[i] > values[i + 1]) { 
				swap(values[i], values[i + 1]); 
			} 
		} 
		--right; 
	} 
}
```

**Сложность:**

1. **В худшем случае**: O(n^2)
   Как и в пузырьковой сортировке, для полностью неотсортированного массива выполняется n - 1 проход, каждый из которых требует n - i - 1 сравнений.

3. **В среднем случае**: O(n^2)
   Поскольку перестановки и сравнения остаются квадратичными.

3. **В лучшем случае**: O(n)
   Если массив уже отсортирован, шейкерная сортировка, как и оптимизированная пузырьковая, обнаружит отсутствие перестановок за один проход.

**Пространственная сложность:**

Шейкерная сортировка, как и пузырьковая, является **встроенной (in-place)**: O(1)
Она требует фиксированного количества дополнительных переменных для хранения индексов и временной переменной для обмена элементов.